(this.webpackJsonpswapp=this.webpackJsonpswapp||[]).push([[9],{477:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(13),i=a(1158);var c=a(1155),l=a(158),d=a(9),o=c.a.Countdown;function u(){console.log("finished!")}var x=function(e){var t=e.value,a=e.size,n=void 0===a?"1.1rem":a,r=e.color,s=void 0===r?"#fff":r;return Object(d.jsxs)("div",{className:"flex flex-row justify-center items-center bg-benefits-blue-1 text-white px-3 border rounded-xl font-bold text-sm py-1",children:[Object(d.jsx)(l.e,{className:"mr-1",size:n,color:s}),Object(d.jsx)(o,{className:"text-xxs",value:t,format:"DD:HH:mm:ss",valueStyle:{fontSize:n,color:s,lineHeight:0},onFinish:u})]})},m=a(1139),b=a(1010),j=a(1157),f=a(953),h=a(208),O=a(1054),p=a.n(O),g=["image/jpg","image/jpeg","image/png"],v=/[A-Z]/,k=/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,y=/^[0-9]{5}$/,w=(b.h().min(8,"Too Short!").max(64,"Too Long!").matches(v,"Must contain al least one uppercase letter.").required("Required"),b.h().oneOf([b.g("password"),null],"Passwords must match").required("Required"),b.h().min(3,"Too Short!").max(64,"Too Long!").test("alphaNumeric","Must contain only letters and numbers.",(function(e){return e&&p.a.isAlphanumeric(e)})).required("Required"),b.h().max(64,"Too Long!").email("Must be a valid email format. example@email.com").lowercase("Must contain only lower case").required("Required"),b.h().matches(k,"Must be a valid phone number.").required("Required"),b.h().min(3,"Too Short!").max(30,"Too Long!").test("alpha","Must contain only letters.",(function(e){return!e||e&&p.a.isAlpha(e.replace(" ",""))})),b.c().required("Required"),b.h().required("Required"),b.h().required("Required"),b.h().required("Required"),b.h().required("Required"),b.h().matches(y,"Must be exactly 5 digits").required("Required"),b.d().required("A file is required").test("fileSize","File too large",(function(e){return e&&e[0].size<=102400})).test("fileFormat","Unsupported Format",(function(e){return e&&g.includes(e[0].type)})).required("Required"),b.d().required("Required").test("usdAmount","Minimum to invest is 20 USD",(function(e){if(e){var t=e;return t=t.replace(/\D/g,""),(t=parseFloat(t))>=20}return!1})),b.d().required("Required").test("usdAmount","Usd amount must be higher than 0",(function(e){if(e){var t=e;return(t=parseFloat(t))>0}return!1})),b.h().max(64,"Too Long!").required("Required"),b.b().oneOf([!0],"Field must be checked"),b.d().required("Required").test("onlyNumber","Field must be a number",(function(e){return!!e&&/^\d+$/.test(e)})),b.d().required("Required").test("color","Field must be a valid color format. Examples. RGBA: rgba(0, 0, 0, 1), HEXA: #000000, RGB: rgb(0,0,0), Color: red",(function(e){if(e){var t=(new Option).style;return t.color=e,""!==t.color}return!1})),b.e().required("Required"),b.a().required("Required"),function(e){return b.d().required("Required").test("onlyNumber","Field must be a number",(function(e){return!!e&&/^\d+$/.test(e)})).test("minStake","Minimum to stake is 1",(function(e){if(e){var t=e;return t=t.replace(/\D/g,""),(t=parseFloat(t))>=1}return!1})).test("maxStake","Insufficient Balance",(function(t){if(t){var a=t;return a=a.replace(/\D/g,""),(a=parseFloat(a))<=parseFloat(e)}return!1}))}),N=a(6),q=a(16),S=a(1154),D=a(1012),R=a(1140),T=a(1142),F=a(1150),A=["field","form","hasFeedback","label","selectOptions","submitCount","type"],C=S.a.Item,M=D.a.Option,I=function(e){return function(t){var a=t.field,n=t.form,r=t.hasFeedback,s=t.label,i=t.selectOptions,c=t.submitCount,l=t.type,o=Object(q.a)(t,A),u=n.touched[a.name],x=c>0,m=n.errors[a.name],b=m&&x,j=m&&u;return Object(d.jsx)(C,{label:s,hasFeedback:r&&x||r&&u,help:!(!b&&!j)&&m,validateStatus:b||j?"error":"success",children:Object(d.jsx)(e,Object(N.a)(Object(N.a)(Object(N.a)({},a),o),{},{onBlur:function(){return n.setFieldTouched(a.name,!0)},onChange:l?function(e){var t=e.target.value;return n.setFieldValue(a.name,t)}:function(e){return n.setFieldValue(a.name,e)},children:i&&i.map((function(e){return Object(d.jsx)(M,{children:e},e)}))}))})}},z=(I(D.a),I(R.a),I(T.a)),L=(I(T.a.Password),I(F.a),a(929)),_=a(950),P=["loading","disabled","textLoading","children"],B=Object(d.jsx)(_.a,{className:" text-white",style:{fontSize:24},spin:!0}),V=function(e){var t=e.loading,a=e.disabled,n=e.textLoading,s=e.children,i=Object(q.a)(e,P);return Object(d.jsx)("button",Object(N.a)(Object(N.a)({className:" bg-primary text-lg px-12 py-2 rounded-md text-white disabled:opacity-50",disabled:a},i),{},{children:t?Object(d.jsxs)("span",{children:[Object(d.jsx)("span",{className:"pr-2",children:Object(d.jsx)(L.a,{indicator:B})}),n]}):Object(d.jsxs)(r.a.Fragment,{children:[" ",s]})}))},$={stakingAmount:""},U=function(e){var t=e.index,a=e.title,n=e.visibleModal,r=e.onCloseModal,i=e.deposit,c=e.userTokens,l=e.loadingStaking,o=Object(f.a)({base:"100%",md:"70%",lg:"50%",xl:"30%"}),u=Object(s.a)(o,1)[0];console.log({userTokens:c});var x=(c/=1e18).toFixed(0),O=b.f({stakingAmount:w(x)});return Object(d.jsx)(j.a,{title:a,visible:n,onCancel:r,width:u,deposit:i,maskClosable:!1,footer:null,centered:!0,children:Object(d.jsx)(m.c,{validationSchema:O,initialValues:$,onSubmit:function(e,a){a.resetForm;i(Number(e.stakingAmount),t)},children:function(e){e.isSubmitting;var t=e.values,a=e.setFieldValue,n=e.resetForm,s=e.isValid;e.isInitialValid;return Object(d.jsxs)(m.b,{children:[Object(d.jsxs)("div",{className:"mb-2",children:[Object(d.jsxs)("div",{className:"flex justify-between items-center",children:[Object(d.jsx)("p",{className:"font-bold text-base",children:"Stake"}),Object(d.jsxs)("p",{className:"font-bold text-base",children:["Balance:"," ",Object(d.jsx)("span",{className:"font-normal",children:Object(h.a)(c,0)})]})]}),Object(d.jsxs)("div",{className:"flex justify-between items-center",children:[Object(d.jsxs)("div",{className:"  flex flex-row items-start",children:[Object(d.jsx)("div",{className:"mr-2",children:Object(d.jsx)(m.a,{component:z,name:"stakingAmount",type:"string",placeholder:"",value:null===t||void 0===t?void 0:t.stakingAmount})}),Object(d.jsx)("button",{type:"button",className:"disabled:opacity-50 bg-primary rounded-md py-1 px-3 text-white text-base font-bold",onClick:function(){a("stakingAmount",x)},children:"MAX"})]}),Object(d.jsx)("p",{className:"text-2xl font-bold",children:"DDOT"})]})]}),Object(d.jsxs)("div",{className:"",children:[Object(d.jsxs)("div",{className:"flex justify-around items-center mb-5",children:[Object(d.jsx)("button",{type:"button",className:"disabled:opacity-50 bg-transparent border-solid border border-primary rounded-md py-1 px-10 text-primary text-lg font-bold",disabled:l,onClick:function(){return function(e){e(),r()}(n)},children:"Cancel"}),Object(d.jsx)(V,{type:"submit",className:"disabled:opacity-50 bg-primary border-solid border border-primary rounded-md py-1 px-10 text-white text-lg font-bold",disabled:!s||l,loading:l,children:"Confirm"})]}),Object(d.jsx)("div",{className:"text-center",children:Object(d.jsx)("p",{onClick:function(){console.log("get ddot")},className:"font-bold text-xl text-primary cursor-pointer",children:"Get DDOT"})})]})]})}})})},E=a(33),G=a(70),H=a(1153),J=a(1160),X=a(163),Y=a(473);var Z=a(290),K=[{title:"Deposit date",dataIndex:"deposit_date",key:"deposit_date",ellipsis:!0},{title:"Deposit amount",dataIndex:"deposit_amount",key:"deposit_amount",ellipsis:!0},{title:"Reward",dataIndex:"reward",key:"reward",ellipsis:!0},{title:"Lock duration",dataIndex:"lock_duration",key:"lock_duration",ellipsis:!0},{title:"",dataIndex:"unStake",key:"unStake",ellipsis:!0}],Q=function(){return Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)(J.a,{style:{fontSize:40}}),Object(d.jsx)("p",{children:"No Data"})]})},W=function(e){var t,a=e.item,r=e.lockDuration,i=Object(Z.a)().getReward,c=Object(n.useState)(!1),l=Object(s.a)(c,2),o=l[0],u=l[1],x=Object(n.useState)(!1),m=Object(s.a)(x,2),b=m[0],j=m[1],f=function(){var e=new Date,t=new Date(r);j(e.getTime()>t.getTime())};t=function(){f()},Object(n.useEffect)(t,[]),Object(Y.a)((function(){f()}),b?null:500);return Object(d.jsx)("div",{className:"flex w-full",children:Object(d.jsx)(V,{onClick:function(){u(!0),i(a,(function(e){null!==e&&void 0!==e&&e.err&&console.log(e),u(!1)}))},className:"disabled:opacity-50 bg-primary border-solid border border-primary rounded-md py-1 w-full md:w-8/12 text-white text-lg font-bold mx-auto",disabled:!b||o,loading:o,children:"Unstake"})})},ee=function(e){var t=e.stake,a=e.lokedTime,n=e.isStakeholder,r=e.userStakes,i=e.getReward,c=Object(X.a)("theme"),l=Object(s.a)(c,1)[0],o=Object(f.a)({base:150,md:"100%"}),u=Object(s.a)(o,1)[0],m=r.reduce((function(e,n,r){if(Number(n.type)===t&&null!=n.reward){var s=new Date(1e3*n.stakeTime).toLocaleString("en-GB");console.log({date:s});var c=n.tokensLocked/1e18,l=(n.reward-n.tokensLocked)/1e18,o=Number(n.stakeTime)+Number(a);return o*=1e3,[].concat(Object(E.a)(e),[{key:r,deposit_date:s,deposit_amount:Object(h.a)(c,0),reward:Object(h.a)(l,2),lock_duration:Object(d.jsx)(x,{value:o,size:"1rem",color:"white"}),width:100,unStake:Object(d.jsx)(W,{item:r,getReward:i,lockDuration:o})}])}return e}),[]),b="dark"===l?{backgroundColor:"#24262d",padding:"0px"}:{backgroundColor:"#fafafa",padding:"0px"};return Object(d.jsx)("div",{className:"table-info overflow-y-auto ",children:n&&Object(d.jsx)(G.a,{renderEmpty:Q,children:Object(d.jsx)(H.a,{style:b,pagination:!1,columns:K.reduce((function(e,t){return[].concat(Object(E.a)(e),[Object(N.a)(Object(N.a)({},t),{},{width:u})])}),[]),dataSource:m,className:l,bordered:!0,scroll:{x:"100%"}})})})},te=a(214),ae=a(979),ne=a(161),re=a(293),se=i.a.Panel,ie=function(e){var t=e.info,a=t.APR,n=t.lockedTime,r=t.totalDeposit,s=t.active;r/=1e18;var i=n*(1/86400),c=Date.now()+1728e5+3e4;return Object(d.jsxs)("div",{className:"w-full flex flex-row justify-between items-center py-2",children:[Object(d.jsxs)("div",{className:" flex flex-row text-gray-13 dark:text-white items-center leading-none",children:[Object(d.jsx)(ae.e,{className:"w-9 mr-2 "}),Object(d.jsx)("span",{className:"font-bold text-sm md:text-lg ",children:"DDOT"})]}),Object(d.jsxs)("div",{className:" text-gray-13 dark:text-white  text-center flex flex-row items-center leading-none",children:[Object(d.jsx)("div",{className:"font-light text-sm md:text-sm mr-1",children:"APR:"}),Object(d.jsxs)("div",{className:"font-bold text-xxs md:text-base",children:[a,"%"]})]}),Object(d.jsxs)("div",{className:" text-gray-13 dark:text-white text-center flex flex-row items-center leading-none",children:[Object(d.jsx)("div",{className:"font-light text-xs md:text-sm mr-1",children:"Total deposit:"}),Object(d.jsx)("div",{className:"font-bold text-xxs md:text-base",children:Object(h.a)(r,0)})]}),Object(d.jsxs)("div",{className:" text-gray-13 dark:text-white text-center flex flex-row items-center leading-none",children:[Object(d.jsx)("div",{className:"font-light text-xs md:text-sm mr-1 ",children:"Duration:"}),Object(d.jsxs)("div",{className:"font-bold text-xxs md:text-base ",children:[Math.ceil(i)," days"]})]}),Object(d.jsxs)("div",{className:" flex flex-row justify-center items-center leading-none",children:[Object(d.jsx)("div",{className:"font-light text-sm md:text-sm text-gray-13 dark:text-white text-center mr-1",children:"Contract end time:"}),s?Object(d.jsx)(x,{value:c,size:"0.875rem"}):Object(d.jsx)("div",{className:"bg-red-300 text-red-0 text-center rounded-md px-3 py-1  mx-auto font-medium text-xs md:text-sm ",children:"Inactive"})]})]})},ce=function(e){var t=e.info,a=t.APR,n=t.lockedTime,r=t.totalDeposit,s=t.active;r/=1e18;var i=n*(1/86400),c=Date.now()+1728e5+3e4;return Object(d.jsxs)("div",{className:"w-full py-2",children:[Object(d.jsxs)("div",{className:"flex flex-row justify-between",children:[Object(d.jsxs)("div",{className:" flex flex-row text-gray-13 dark:text-white items-center leading-none",children:[Object(d.jsx)(ae.e,{className:"w-9 mr-2 "}),Object(d.jsx)("span",{className:"font-bold text-sm ",children:"DDOT"})]})," ",Object(d.jsxs)("div",{className:" flex flex-row justify-center items-center leading-none",children:[Object(d.jsx)("div",{className:"font-light text-xs text-gray-13 dark:text-white text-center mr-1",children:"Contract end time:"}),Object(d.jsx)("div",{className:"font-medium text-xs flex",children:s?Object(d.jsx)(x,{value:c,size:"1rem",color:"white"}):Object(d.jsx)("div",{className:"bg-red-1 text-red-0 text-center font-medium rounded-md px-3 py-2  mx-auto",children:"Inactive"})})]})]}),Object(d.jsxs)("div",{className:" flex flex-row justify-between mt-4",children:[Object(d.jsxs)("div",{className:" text-gray-13 dark:text-white  text-center flex flex-row items-center leading-none",children:[Object(d.jsx)("div",{className:"font-light text-xs  mr-1",children:"APR:"}),Object(d.jsxs)("div",{className:"font-bold text-sm ",children:[a,"%"]})]}),Object(d.jsxs)("div",{className:" text-gray-13 dark:text-white text-center flex flex-row items-center leading-none",children:[Object(d.jsx)("div",{className:"font-light text-xs  mr-1",children:"Total deposit:"}),Object(d.jsx)("div",{className:"font-bold text-sm",children:Object(h.a)(r,0)})]}),Object(d.jsxs)("div",{className:" text-gray-13 dark:text-white text-center flex flex-row items-center leading-none",children:[Object(d.jsx)("div",{className:"font-light text-xs mr-1",children:"Duration:"}),Object(d.jsxs)("div",{className:"font-bold text-sm",children:[i," days"]})]})]})]})},le=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(s.a)(l,2),u=o[0],x=o[1],m=Object(n.useState)(0),b=Object(s.a)(m,2),j=b[0],f=b[1],h=Object(re.a)().width,O=Object(ne.a)().data,p=Object(Z.a)().createStake,g=O.contractStakes,v=O.userStakes,k=O.userTokens,y=O.isStakeholder,w=O.totalUserStakes;console.log({userTokens:k});var N=function(e){x(!u),f(e)};return g?Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(U,{loadingStaking:a,index:j,title:"Stake tokens",visibleModal:u,onCloseModal:N,deposit:function(e,t){c(!0);var a=function(e){var t=0;if(e<1e3)t=1e18*e;else{e*=1e18;var a=parseInt(e.toString().split("+")[1]);a-=20,e/=Math.pow(10,a),t=e+=new Array(a+1).join("0")}return t.toString()}(e);p(a,t,(function(e){null!==e&&void 0!==e&&e.err&&console.log(e),c(!1),x(!u)}))},userTokens:k}),g.map((function(e,t){return Object(d.jsx)(i.a,{bordered:!1,expandIcon:function(e){var t=e.isActive;return Object(d.jsx)(te.a,{className:"text-gray-13 dark:text-white",rotate:t?90:0})},expandIconPosition:"right",className:"mb-3 rounded-xl dark:bg-gray-4",children:Object(d.jsx)(se,{header:h>425?Object(d.jsx)(ie,{info:e}):Object(d.jsx)(ce,{info:e}),children:Object(d.jsxs)("div",{className:"text-gray-13 dark:text-white border-t dark:border-gray-1 pt-4",children:[Object(d.jsx)("div",{className:"button-section text-right mb-4",children:w>=5?Object(d.jsx)("div",{className:"alert alert-info",role:"alert",children:"You only can have 5 stakes"}):Object(d.jsx)(d.Fragment,{children:k>0?Object(d.jsx)("button",{onClick:function(){return N(t)},className:"disabled:opacity-50 bg-primary text-white font-semibold border-none text-base px-6 py-2 rounded-md",disabled:!e.active,children:"Deposit"}):Object(d.jsx)("p",{children:"You need tokens to continue"})})}),Object(d.jsx)(ee,{stake:t,lokedTime:e.lockedTime,isStakeholder:y,userStakes:v})]})},t)},t)}))]}):null},de=a(968);t.default=function(e){return Object(d.jsx)("div",{className:"mx-5",children:Object(d.jsx)("div",{className:"max-w-1650px mx-auto",children:Object(d.jsxs)("div",{className:"pb-8",children:[Object(d.jsx)("div",{className:"mb-6 mt-4 flex justify-end",children:Object(d.jsx)(de.a,{})}),Object(d.jsx)(le,{})]})})})}},945:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(e){return e.replace(/\s+/gm," ").split(" ").filter((function(e){return"string"===typeof e&&"undefined"!==e})).join(" ").trim()},r=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},953:function(e,t,a){"use strict";var n=a(13),r=a(1),s=a(293),i=a(210),c=function(e){for(var t=0;t<e.length;t++)if("undefined"!==typeof e[t])return e[t]};t.a=function(e){var t=e.xxl,a=e.xl,l=e.lg,d=e.md,o=e.sm,u=e.base,x=Object(r.useState)(""),m=Object(n.a)(x,2),b=m[0],j=m[1],f=Object(s.a)().width;return Object(i.a)((function(){j(f>=1536?c([t,a,l,d,o,u]):f>=1280?c([a,l,d,o,u]):f>=1024?c([l,d,o,u]):f>=768?c([d,o,u]):f>=640?c([o,u]):u)}),[f]),[b]}},968:function(e,t,a){"use strict";a(1);var n=a(290),r=a(161),s=a(296),i=a(945),c=a(9);t.a=function(){var e=Object(n.a)().reloadData,t=Object(r.a)().fetching;return Object(c.jsx)("button",{disabled:t,className:"flex items-start justify-center",onClick:function(){e(!0)},children:Object(c.jsx)("div",{className:"h-8 w-8 lg:h-9 lg:w-9",children:Object(c.jsx)(s.a,{className:Object(i.a)("".concat(t&&"animate-spin")),size:"100%"})})})}}}]);
//# sourceMappingURL=9.c701b743.chunk.js.map