(this.webpackJsonpswapp=this.webpackJsonpswapp||[]).push([[12],{1027:function(e,t,a){"use strict";a(1);var r=a(963),n=a(989),i=a(295),s=a(165),c=a(14),o=Object(c.jsx)(n.a,{className:" text-white",style:{fontSize:24},spin:!0});t.a=function(){var e=Object(i.a)().reloadData,t=Object(s.a)().fetching;return Object(c.jsx)("button",{className:" bg-primary text-lg px-12 py-2 rounded-md text-white disabled:opacity-50",onClick:function(){console.log("Entro"),e(!0)},disabled:t,children:t?Object(c.jsxs)("span",{children:[Object(c.jsx)("span",{className:"pr-2",children:Object(c.jsx)(r.a,{indicator:o})}),"Refreshing"]}):"Refresh"})}},492:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),i=a(1021),s=a(1022),c=a(12),o=a(1200);var l=a(1196),d=a(115),u=a(14),b=l.a.Countdown;function j(){console.log("finished!")}var m=function(e){var t=e.value,a=e.valueStyle;return Object(u.jsx)("div",{className:"flex",children:Object(u.jsxs)("div",{className:"flex flex-wrap justify-center items-center bg-benefits-blue-1 text-white px-3 border rounded-xl font-bold",children:[Object(u.jsx)(d.h,{size:17,style:{marginRight:"10px",color:"white"}}),Object(u.jsx)(b,{value:t,format:"DD:HH:mm:ss",valueStyle:a,onFinish:j})]})})},x=a(994),f=a(978),h=a(1199),p=a(304),O=a(151),g=function(e){for(var t=0;t<e.length;t++)if("undefined"!==typeof e[t])return e[t]},v=function(e){var t=e.xxl,a=e.xl,n=e.lg,i=e.md,s=e.sm,o=e.base,l=Object(r.useState)(""),d=Object(c.a)(l,2),u=d[0],b=d[1],j=Object(p.a)().width;return Object(O.a)((function(){b(j>=1536?g([t,a,n,i,s,o]):j>=1280?g([a,n,i,s,o]):j>=1024?g([n,i,s,o]):j>=768?g([i,s,o]):j>=640?g([s,o]):o)}),[j]),[u]},k=a(211),y=a(979),N=a(980),w=a(8),S=a(20),q=a(963),R=a(989),D=["loading","textLoading","children"],F=Object(u.jsx)(R.a,{className:" text-white",style:{fontSize:24},spin:!0}),C=function(e){var t=e.loading,a=e.textLoading,r=e.children,i=Object(S.a)(e,D);return Object(u.jsx)("button",Object(w.a)(Object(w.a)({className:" bg-primary text-lg px-12 py-2 rounded-md text-white disabled:opacity-50",disabled:t},i),{},{children:t?Object(u.jsxs)("span",{children:[Object(u.jsx)("span",{className:"pr-2",children:Object(u.jsx)(q.a,{indicator:F})}),a]}):Object(u.jsxs)(n.a.Fragment,{children:[" ",r]})}))},T={stakingAmount:""},A=function(e){var t=e.index,a=e.title,r=e.visibleModal,n=e.onCloseModal,i=e.deposit,s=e.totalTokens,o=e.loadingStaking,l=v({base:"100%",md:"70%",lg:"50%",xl:"30%"}),d=Object(c.a)(l,1)[0],b=(s/=1e18).toFixed(0),j=f.f({stakingAmount:y.a.staking(b)});return Object(u.jsx)(h.a,{title:a,visible:r,onCancel:n,width:d,deposit:i,maskClosable:!1,footer:null,centered:!0,children:Object(u.jsx)(x.c,{validationSchema:j,initialValues:T,onSubmit:function(e,a){a.resetForm;i(Number(e.stakingAmount),t)},children:function(e){e.isSubmitting;var t=e.values,a=e.setFieldValue,r=e.resetForm,i=e.isValid;e.isInitialValid;return Object(u.jsxs)(x.b,{children:[Object(u.jsxs)("div",{className:"mb-2",children:[Object(u.jsxs)("div",{className:"flex justify-between items-center",children:[Object(u.jsx)("p",{className:"font-bold text-base",children:"Stake"}),Object(u.jsxs)("p",{className:"font-bold text-base",children:["Balance:"," ",Object(u.jsx)("span",{className:"font-normal",children:Object(k.a)(s,0)})]})]}),Object(u.jsxs)("div",{className:"flex justify-between items-center",children:[Object(u.jsxs)("div",{className:"  flex flex-row items-start",children:[Object(u.jsx)("div",{className:"mr-2",children:Object(u.jsx)(x.a,{component:N.a,name:"stakingAmount",type:"string",placeholder:"",value:null===t||void 0===t?void 0:t.stakingAmount})}),Object(u.jsx)("button",{type:"button",className:"disabled:opacity-50 bg-primary rounded-md py-1 px-3 text-white text-base font-bold",onClick:function(){a("stakingAmount",b)},children:"MAX"})]}),Object(u.jsx)("p",{className:"text-2xl font-bold",children:"DDOT"})]})]}),Object(u.jsxs)("div",{className:"",children:[Object(u.jsxs)("div",{className:"flex justify-around items-center mb-5",children:[Object(u.jsx)("button",{type:"button",className:"disabled:opacity-50 bg-transparent border-solid border border-primary rounded-md py-1 px-10 text-primary text-lg font-bold",disabled:o,onClick:function(){return function(e){e(),n()}(r)},children:"Cancel"}),Object(u.jsx)(C,{type:"submit",className:"disabled:opacity-50 bg-primary border-solid border border-primary rounded-md py-1 px-10 text-white text-lg font-bold",disabled:!i||o,loading:o,children:"Confirm"})]}),Object(u.jsx)("div",{className:"text-center",children:Object(u.jsx)("p",{onClick:function(){console.log("get ddot")},className:"font-bold text-xl text-primary cursor-pointer",children:"Get DDOT"})})]})]})}})})},M=a(33),I=a(72),L=a(1194),U=a(1203),_=a(300),z=a(489);var B=a(295),E=[{title:"Deposit date",dataIndex:"deposit_date",key:"deposit_date",ellipsis:!0},{title:"Deposit amount",dataIndex:"deposit_amount",key:"deposit_amount",ellipsis:!0},{title:"Reward",dataIndex:"reward",key:"reward",ellipsis:!0},{title:"Lock duration",dataIndex:"lock_duration",key:"lock_duration",ellipsis:!0},{title:"",dataIndex:"unStake",key:"unStake",ellipsis:!0}],G=function(){return Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)(U.a,{style:{fontSize:40}}),Object(u.jsx)("p",{children:"No Data"})]})},P=function(e){var t,a=e.item,n=e.lockDuration,i=Object(B.a)().getReward,s=Object(r.useState)(!1),o=Object(c.a)(s,2),l=o[0],d=o[1],b=Object(r.useState)(!1),j=Object(c.a)(b,2),m=j[0],x=j[1],f=function(){var e=(new Date).toLocaleString("en-GB"),t=new Date(n).toLocaleString("en-GB");x(e>t)};t=function(){f()},Object(r.useEffect)(t,[]),Object(z.a)((function(){f()}),m?null:500);return Object(u.jsx)(C,{onClick:function(){d(!0),i(a,(function(e){null!==e&&void 0!==e&&e.err&&console.log(e),d(!1)}))},className:"disabled:opacity-50 bg-primary border-solid border border-primary rounded-md py-1 px-10 text-white text-lg font-bold",disabled:!m||l,loading:l,children:"Unstake"})},V=function(e){var t=e.stake,a=e.lokedTime,r=e.isStakeholder,n=e.userStakes,i=e.getReward,s=Object(_.a)("theme"),o=Object(c.a)(s,1)[0],l=n.reduce((function(e,r,n){if(Number(r.type)===t&&null!=r.reward){var s=new Date(1e3*r.stakeTime).toLocaleString("en-GB"),c=r.tokensLocked/1e18,o=(r.reward-r.tokensLocked)/1e18,l=Number(r.stakeTime)+Number(a);return l*=1e3,[].concat(Object(M.a)(e),[{key:n,deposit_date:s,deposit_amount:Object(k.a)(c,0),reward:Object(k.a)(o,2),lock_duration:Object(u.jsx)(m,{value:l,valueStyle:{fontSize:"1.1rem",color:"white"}}),unStake:Object(u.jsx)(P,{item:n,getReward:i,lockDuration:l})}])}return e}),[]),d="dark"===o?{backgroundColor:"#24262d",padding:"0px"}:{backgroundColor:"#fafafa",padding:"0px"};return Object(u.jsx)("div",{className:"table-info",children:r&&Object(u.jsx)(I.a,{renderEmpty:G,children:Object(u.jsx)(L.a,{style:d,pagination:!1,columns:E,dataSource:l,className:o,bordered:!0})})})},Y=a(217),$=a(1031),H=a(165),J=o.a.Panel,X=function(e){var t=e.info,a=t.APR,r=t.lockedTime,n=t.totalDeposit,i=t.active;n/=1e18;var s=r*(1/86400),c=Date.now()+1728e5+3e4;return Object(u.jsxs)("div",{className:"w-full flex justify-between flex-wrap content-center contractStakes-center mr-10",children:[Object(u.jsxs)("div",{className:"grid grid-cols-2 gap-1 text-gray-13 dark:text-white",children:[Object(u.jsx)($.e,{className:"w-9"}),Object(u.jsx)("span",{className:"font-bold text-lg",children:"DDOT"})]}),Object(u.jsxs)("div",{className:"text-gray-13 dark:text-white",children:[Object(u.jsx)("p",{className:"font-light text-lg",children:"APR"}),Object(u.jsxs)("p",{className:"font-bold text-base",children:[a,"%"]})]}),Object(u.jsxs)("div",{className:"text-gray-13 dark:text-white",children:[Object(u.jsx)("p",{className:"font-light text-lg",children:"Total deposit"}),Object(u.jsx)("p",{className:"font-bold text-base",children:Object(k.a)(n,0)})]}),Object(u.jsxs)("div",{className:"text-gray-13 dark:text-white",children:[Object(u.jsx)("p",{className:"font-light text-lg",children:"Duration"}),Object(u.jsxs)("p",{className:"font-bold text-base",children:[s," days"]})]}),Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)("p",{className:"font-light text-lg text-gray-13 dark:text-white",children:"Contract end time"}),Object(u.jsx)("div",{className:"font-bold text-base",children:i?Object(u.jsx)(m,{value:c,valueStyle:{fontSize:"1.1rem",color:"white"}}):Object(u.jsx)("div",{className:"bg-red-700 text-white text-center border rounded-xl",children:"Inactive"})})]})]})},Z=function(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),a=t[0],i=t[1],s=Object(r.useState)(!1),l=Object(c.a)(s,2),d=l[0],b=l[1],j=Object(r.useState)(0),m=Object(c.a)(j,2),x=m[0],f=m[1],h=Object(H.a)().data,p=Object(B.a)().createStake,O=h.contractStakes,g=h.userStakes,v=h.userTokens,k=h.isStakeholder,y=h.totalUserStakes,N=function(e){b(!d),f(e)};return O?Object(u.jsxs)(n.a.Fragment,{children:[Object(u.jsx)(A,{loadingStaking:a,index:x,title:"Stake tokens",visibleModal:d,onCloseModal:N,deposit:function(e,t){i(!0);var a=function(e){var t=0;if(e<1e3)t=1e18*e;else{e*=1e18;var a=parseInt(e.toString().split("+")[1]);a-=20,e/=Math.pow(10,a),t=e+=new Array(a+1).join("0")}return t.toString()}(e);p(a,t,(function(e){null!==e&&void 0!==e&&e.err&&console.log(e),i(!1),b(!d)}))},userTokens:v}),O.map((function(e,t){return Object(u.jsx)(o.a,{bordered:!1,expandIcon:function(e){var t=e.isActive;return Object(u.jsx)(Y.a,{className:"text-gray-13 dark:text-white",rotate:t?90:0})},expandIconPosition:"right",className:"mb-10 rounded-xl dark:bg-gray-4",children:Object(u.jsx)(J,{header:Object(u.jsx)(X,{info:e}),children:Object(u.jsxs)("div",{className:"text-gray-13 dark:text-white border-t dark:border-gray-1 pt-4",children:[Object(u.jsx)("div",{className:"button-section text-right mb-4",children:y>=5?Object(u.jsx)("div",{className:"alert alert-info",role:"alert",children:"You only can have 5 stakes"}):Object(u.jsx)(u.Fragment,{children:v>0?Object(u.jsx)("button",{onClick:function(){return N(t)},className:"disabled:opacity-50 bg-primary text-white font-semibold border-none text-base px-6 py-2 rounded-md",disabled:!e.active,children:"Deposit"}):Object(u.jsx)("p",{children:"You need tokens to continue"})})}),Object(u.jsx)(V,{stake:t,lokedTime:e.lockedTime,isStakeholder:k,userStakes:g})]})},t)},t)}))]}):null},K=a(1027);t.default=function(e){return Object(u.jsx)("div",{className:"mx-5",children:Object(u.jsxs)("div",{className:"pb-8",children:[Object(u.jsx)("div",{className:"mb-6 mt-4 flex justify-end",children:Object(u.jsx)(K.a,{})}),Object(u.jsx)(i.a,{children:Object(u.jsx)(s.a,{md:24,children:Object(u.jsx)(Z,{})})})]})})}},979:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var r=a(978),n=a(1003),i=a.n(n),s=["image/jpg","image/jpeg","image/png"],c=/[A-Z]/,o=/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,l=/^[0-9]{5}$/,d={password:r.h().min(8,"Too Short!").max(64,"Too Long!").matches(c,"Must contain al least one uppercase letter.").required("Required"),passwordConfirmation:r.h().oneOf([r.g("password"),null],"Passwords must match").required("Required"),userName:r.h().min(3,"Too Short!").max(64,"Too Long!").test("alphaNumeric","Must contain only letters and numbers.",(function(e){return e&&i.a.isAlphanumeric(e)})).required("Required"),mail:r.h().max(64,"Too Long!").email("Must be a valid email format. example@email.com").lowercase("Must contain only lower case").required("Required"),phone:r.h().matches(o,"Must be a valid phone number.").required("Required"),name:r.h().min(3,"Too Short!").max(30,"Too Long!").test("alpha","Must contain only letters.",(function(e){return!e||e&&i.a.isAlpha(e.replace(" ",""))})),birthDate:r.c().required("Required"),country:r.h().required("Required"),state:r.h().required("Required"),city:r.h().required("Required"),line:r.h().required("Required"),postalCode:r.h().matches(l,"Must be exactly 5 digits").required("Required"),file:r.d().required("A file is required").test("fileSize","File too large",(function(e){return e&&e[0].size<=102400})).test("fileFormat","Unsupported Format",(function(e){return e&&s.includes(e[0].type)})).required("Required"),min20Usd:r.d().required("Required").test("usdAmount","Minimum to invest is 20 USD",(function(e){if(e){var t=e;return t=t.replace(/\D/g,""),(t=parseFloat(t))>=20}return!1})),no0Usd:r.d().required("Required").test("usdAmount","Usd amount must be higher than 0",(function(e){if(e){var t=e;return(t=parseFloat(t))>0}return!1})),generic:r.h().max(64,"Too Long!").required("Required"),boolean:r.b().oneOf([!0],"Field must be checked"),onlyNumber:r.d().required("Required").test("onlyNumber","Field must be a number",(function(e){return!!e&&/^\d+$/.test(e)})),isColor:r.d().required("Required").test("color","Field must be a valid color format. Examples. RGBA: rgba(0, 0, 0, 1), HEXA: #000000, RGB: rgb(0,0,0), Color: red",(function(e){if(e){var t=(new Option).style;return t.color=e,""!==t.color}return!1})),number:r.e().required("Required"),array:r.a().required("Required"),staking:function(e){return r.d().required("Required").test("onlyNumber","Field must be a number",(function(e){return!!e&&/^\d+$/.test(e)})).test("minStake","Minimum to stake is 1",(function(e){if(e){var t=e;return t=t.replace(/\D/g,""),(t=parseFloat(t))>=1}return!1})).test("maxStake","Insufficient Balance",(function(t){if(t){var a=t;return a=a.replace(/\D/g,""),(a=parseFloat(a))<=parseFloat(e)}return!1}))},validateIsNotCurrentUser:function(e,t){return r.d().required("Required").test("validUserName","You can not add yourself",(function(t){return!!t&&(t!==e.userName&&t!==e.userMail)})).test("validateIsNotExistingMember","You can not add existing members",(function(e){if(e){for(var a=!0,r=0;r<t.length;r++){var n=t[r],i=n.userName,s=n.userMail;if(e===i||e===s){a=!1;break}}return a}return!1}))}}},980:function(e,t,a){"use strict";a.d(t,"a",(function(){return x})),a.d(t,"b",(function(){return f}));var r=a(8),n=a(20),i=(a(1),a(1195)),s=a(1060),c=a(1181),o=a(1183),l=a(1191),d=a(14),u=["field","form","hasFeedback","label","selectOptions","submitCount","type"],b=i.a.Item,j=s.a.Option,m=function(e){return function(t){var a=t.field,i=t.form,s=t.hasFeedback,c=t.label,o=t.selectOptions,l=t.submitCount,m=t.type,x=Object(n.a)(t,u),f=i.touched[a.name],h=l>0,p=i.errors[a.name],O=p&&h,g=p&&f;return Object(d.jsx)(b,{label:c,hasFeedback:s&&h||s&&f,help:!(!O&&!g)&&p,validateStatus:O||g?"error":"success",children:Object(d.jsx)(e,Object(r.a)(Object(r.a)(Object(r.a)({},a),x),{},{onBlur:function(){return i.setFieldTouched(a.name,!0)},onChange:m?function(e){var t=e.target.value;return i.setFieldValue(a.name,t)}:function(e){return i.setFieldValue(a.name,e)},children:o&&o.map((function(e){return Object(d.jsx)(j,{children:e},e)}))}))})}},x=(m(s.a),m(c.a),m(o.a)),f=m(o.a.Password);m(l.a)}}]);
//# sourceMappingURL=12.17e41239.chunk.js.map